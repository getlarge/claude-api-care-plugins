# =============================================================================
# MCP Server Configuration
# =============================================================================

MCP_RESOURCE_URI=http://localhost:4000
PORT=4000
HOST=0.0.0.0
LOG_LEVEL=info

# =============================================================================
# Storage Configuration
# =============================================================================

# Store type: 'memory' | 'sqlite' | 'postgres'
# - memory: In-memory storage (default for STDIO transport)
# - sqlite: SQLite file-based storage (default for HTTP transport)
# - postgres: PostgreSQL database storage (recommended for production)
# STORE_TYPE=sqlite

# PostgreSQL connection (required when STORE_TYPE=postgres)
# DATABASE_URL=postgresql://aip:aip_secret@localhost:5432/aip_mcp

# =============================================================================
# S3-Compatible Storage (Optional)
# =============================================================================
# Use S3-compatible storage for spec and findings content.
# Works with AWS S3, MinIO, Cloudflare R2, etc.

# S3_ENDPOINT=http://localhost:9000
# S3_ACCESS_KEY_ID=minioadmin
# S3_SECRET_ACCESS_KEY=minioadmin
# S3_BUCKET_SPECS=aip-specs
# S3_BUCKET_FINDINGS=aip-findings
# S3_REGION=us-east-1
# S3_FORCE_PATH_STYLE=true  # Required for MinIO

# =============================================================================
# Redis Configuration (Optional)
# =============================================================================
# Use Redis for session store, message broker, and subscriptions.
# Recommended for multi-instance deployments.

# REDIS_URL=redis://localhost:6379

# =============================================================================
# OAuth2 / Ory Network Configuration
# =============================================================================

# Enable OAuth2 authentication
AUTH_ENABLED=false

# Ory Network Configuration
# Get these from https://console.ory.sh
# ORY_PROJECT_URL=https://your-project.projects.oryapis.com
# ORY_PROJECT_ID=your-project-id
# ORY_WORKSPACE_ID=your-workspace-id

# Optional: Ory API key for admin operations (introspection)
# ORY_PROJECT_API_KEY=ory_pat_...

# OAuth2 Client (MCP Server)
# Create an OAuth2 client in Ory Console with:
# - Grant types: authorization_code, refresh_token
# - Token endpoint auth method: client_secret_post
# - Redirect URIs: http://localhost:8080/callback (or your client's callback)
# OAUTH_CLIENT_ID=your-client-id
# OAUTH_CLIENT_SECRET=your-client-secret

# =============================================================================
# CORS Configuration
# =============================================================================

# Allowed Origins (for CORS)
# Include your Ory project URL for OAuth callbacks
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:4000

# =============================================================================
# External APIs
# =============================================================================

# Anthropic API Key (for aip-correlate tool)
# ANTHROPIC_API_KEY=sk-ant-...
